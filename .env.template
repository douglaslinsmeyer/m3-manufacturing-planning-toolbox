# M3 Manufacturing Planning Tools - Environment Configuration
# Copy this file to .env and fill in your values

# ========================================
# Application Settings
# ========================================
APP_ENV=development
APP_PORT=8080
FRONTEND_URL=http://localhost:3000

# ========================================
# Database Configuration
# ========================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/m3_planning?sslmode=disable
DATABASE_MAX_CONNECTIONS=25
DATABASE_MAX_IDLE_CONNECTIONS=5
DATABASE_CONNECTION_LIFETIME=5m

# ========================================
# M3 TRN Environment (Training)
# ========================================
TRN_TENANT_ID=XK3JRT8CJCAF9GWY_TRN
TRN_CLIENT_ID=your_trn_client_id_here
TRN_CLIENT_SECRET=your_trn_client_secret_here
TRN_AUTH_ENDPOINT=https://mingle-sso.inforcloudsuite.com:443/XK3JRT8CJCAF9GWY_TRN/as/authorization.oauth2
TRN_TOKEN_ENDPOINT=https://mingle-sso.inforcloudsuite.com:443/XK3JRT8CJCAF9GWY_TRN/as/token.oauth2
TRN_API_BASE_URL=https://mingle-ionapi.inforcloudsuite.com/XK3JRT8CJCAF9GWY_TRN/
TRN_COMPASS_BASE_URL=https://mingle-ionapi.inforcloudsuite.com/XK3JRT8CJCAF9GWY_TRN/DATAFABRIC/compass/v2/

# ========================================
# M3 PRD Environment (Production)
# ========================================
PRD_TENANT_ID=XK3JRT8CJCAF9GWY_PRD
PRD_CLIENT_ID=your_prd_client_id_here
PRD_CLIENT_SECRET=your_prd_client_secret_here
PRD_AUTH_ENDPOINT=https://mingle-sso.inforcloudsuite.com:443/XK3JRT8CJCAF9GWY_PRD/as/authorization.oauth2
PRD_TOKEN_ENDPOINT=https://mingle-sso.inforcloudsuite.com:443/XK3JRT8CJCAF9GWY_PRD/as/token.oauth2
PRD_API_BASE_URL=https://mingle-ionapi.inforcloudsuite.com/XK3JRT8CJCAF9GWY_PRD/
PRD_COMPASS_BASE_URL=https://mingle-ionapi.inforcloudsuite.com/XK3JRT8CJCAF9GWY_PRD/DATAFABRIC/compass/v2/

# ========================================
# OAuth Configuration
# ========================================
OAUTH_REDIRECT_URI=http://localhost:8080/api/auth/callback
OAUTH_SCOPES=openid profile
SESSION_SECRET=change-this-to-a-random-secret-key-at-least-32-characters-long
SESSION_DURATION=24h
TOKEN_REFRESH_BUFFER=5m

# ========================================
# Redis Configuration (Optional)
# Use for session storage instead of PostgreSQL
# ========================================
# REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=
# REDIS_DB=0

# ========================================
# Logging
# ========================================
LOG_LEVEL=info
LOG_FORMAT=json

# ========================================
# CORS Configuration
# ========================================
CORS_ALLOWED_ORIGINS=http://localhost:3000
CORS_ALLOW_CREDENTIALS=true

# ========================================
# NATS Configuration
# ========================================
NATS_URL=nats://localhost:4222
NATS_MAX_RECONNECTS=10
NATS_RECONNECT_WAIT=2s

# ========================================
# Data Refresh Settings
# ========================================
# Maximum records to fetch per query
MAX_QUERY_RECORDS=100000
# Query timeout in seconds
QUERY_TIMEOUT=300
# Concurrent query limit
MAX_CONCURRENT_QUERIES=5
